<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:osgi="http://www.springframework.org/schema/osgi"
	xmlns:jee="http://www.springframework.org/schema/jee"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/osgi http://www.springframework.org/schema/osgi/spring-osgi.xsd
		http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-2.0.xsd">

	<osgi:reference id="notifServProperties" interface="java.util.Properties" filter="(nsResourceName=notifServProperties)"/>
	<bean id="findUsRailWebServiceTemplate" class="org.springframework.ws.client.core.WebServiceTemplate"/>
	<bean id="findUsRailWebServiceRequestMarshaller" class="com.railinc.notifserv.services.findusrail.impl.internal.FindUsRailContactServiceRequestMarshaller"/>

	<bean id="findUsRailWebServiceImpl" class="com.railinc.notifserv.services.findusrail.impl.FindUsRailContactServiceImpl">
		<constructor-arg value="DEFAULT"/>
		<property name="notifServProperties" ref="notifServProperties"/>
		<property name="marshaller" ref="findUsRailWebServiceRequestMarshaller"/>
		<property name="wsTemplate" ref="findUsRailWebServiceTemplate"/>
	</bean>

	<osgi:service id="findUsRailWebService" ref="findUsRailWebServiceImpl" interface="com.railinc.notifserv.services.findusrail.FindUsRailContactService"/>

	<!-- ################# SSO Contact Services ################# -->

	<bean id="httpConnectionManager" class="org.apache.commons.httpclient.MultiThreadedHttpConnectionManager"/>
	<bean id="rsClient" class="org.apache.commons.httpclient.HttpClient" >
		<constructor-arg ref="httpConnectionManager"/>
	</bean>

	<bean id="ssoContactServiceImpl" class="com.railinc.notifserv.services.sso.impl.SsoContactServiceImpl">
		<constructor-arg value="DEFAULT"/>
		<constructor-arg ref="rsClient"/>
		<property name="notifServProperties" ref="notifServProperties"/>
	</bean>

	<osgi:service id="ssoContactService" ref="ssoContactServiceImpl" interface="com.railinc.notifserv.services.sso.SsoContactService"/>
</beans>
