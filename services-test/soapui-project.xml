<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project name="Notification Service REST API" resourceRoot="" soapui-version="4.0.1.1" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config">
	<con:settings>
		<con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="Mailing Lists Test Suite"/>
  <con:entry key="Report to Generate" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="soapui-setings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="true"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value="http://datasvcs.dev.railinc.com"/>
</xml-fragment>]]></con:setting>
	</con:settings>
	<con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="Notification Service REST API" type="rest" basePath="/notifserv-restsvcs/api" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:settings/>
		
		<con:definitionCache type="TEXT" rootPart=""/><con:endpoints>
			<con:endpoint>http://localhost:8080</con:endpoint>
			<con:endpoint>http://devnode2:8193</con:endpoint>
			<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
			<con:endpoint>http://localhost:8080</con:endpoint>
			<con:endpoint>http://tcserverprd01:6900</con:endpoint>
			<con:endpoint>http://datasvcs.tst.railinc.com</con:endpoint>
			<con:endpoint>http://wastst1:8151</con:endpoint>
			<con:endpoint>http://tcservertst01:6900</con:endpoint>
			<con:endpoint>http://tcserverdev02:6900</con:endpoint>
			<con:endpoint>http://tcserverprd02:6900</con:endpoint>
		</con:endpoints>
		<con:resource name="Mailing Lists" path="/mailinglists">
			<con:settings/>
			<con:parameters/>
			<con:resource name="Mailing List" path="/{mailingListKey}">
				<con:description>The mailing list resource represents a single
					mailing list within the system.</con:description>
				<con:settings/>
				<con:parameters>
					<con:parameter required="true">
						<con:name>mailingListKey</con:name>
						<con:value>OUTEHMS</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>mailingListKey</con:default>
						<con:description>The natural key for the mailing list.
						</con:description>
					</con:parameter>
				</con:parameters>
				<con:resource name="Mailing List Subscription" path="subscription/{realm}/{uid}">
					<con:settings/>
					<con:parameters>
						<con:parameter>
							<con:name>mailingListKey</con:name>
							<con:value>mailingListKey</con:value>
							<con:style>TEMPLATE</con:style>
							<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
							<con:default>mailingListKey</con:default>
							<con:description xsi:nil="true"/>
						</con:parameter>
						<con:parameter>
							<con:name>realm</con:name>
							<con:value>realm</con:value>
							<con:style>TEMPLATE</con:style>
							<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
							<con:default>realm</con:default>
							<con:description xsi:nil="true"/>
						</con:parameter>
						<con:parameter>
							<con:name>uid</con:name>
							<con:value>uid</con:value>
							<con:style>TEMPLATE</con:style>
						</con:parameter>
					</con:parameters>
					<con:method name="Unsubscribe (DELETE)" method="DELETE">
						<con:settings/>
						<con:parameters/>
						<con:representation type="FAULT">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>404</con:status>
							<con:params/>
						</con:representation>
						<con:request name="Delete / Unsubscribe" mediaType="text/xml">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://tcserverprd01:6900</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<con:entry key="uid" value="sdtxs01"/>
								<con:entry key="realm" value="SSO"/>
								<con:entry key="mailingListKey" value="MAINTEHMS"/>
							</con:parameters>
						</con:request>
					</con:method>
					<con:method name="Subscribe (POST)" method="POST">
						<con:settings/>
						<con:parameters/>
						<con:representation type="REQUEST">
							<con:mediaType>text/xml</con:mediaType>
							<con:params/>
							<con:element>error</con:element>
						</con:representation>
						<con:representation type="RESPONSE">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>201</con:status>
							<con:params/>
						</con:representation>
						<con:request name="Post / Subscribe" mediaType="application/xml" postQueryString="false">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://tcserverprd01:6900</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<con:entry key="uid" value="sdtxs01"/>
								<con:entry key="realm" value="SSO"/>
								<con:entry key="mailingListKey" value="MAINTEHMS"/>
							</con:parameters>
						</con:request>
					</con:method>
				</con:resource>
				<con:resource name="Subscribers" path="/subscribers">
					<con:settings/>
					<con:parameters/>
					<con:method name="Get Subscribers" method="GET">
						<con:settings/>
						<con:parameters/>
						<con:representation type="RESPONSE">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>200</con:status>
							<con:params/>
							<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:subscribers</con:element>
						</con:representation>
						<con:representation type="FAULT">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>406 404</con:status>
							<con:params/>
						</con:representation>
						<con:request name="Request 1" mediaType="text/xml" timeout="3000000">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters><entry key="mailingListKey" value="OUTAGEMAIL_LIST_TEST" xmlns="http://eviware.com/soapui/config"/></con:parameters>
						</con:request>
					</con:method>
				</con:resource>
				<con:resource name="Subscriptions" path="/subscriptions">
					<con:settings/>
					<con:parameters/>
					<con:resource name="Subscription" path="/{subscriptionKey}">
						<con:settings/>
						<con:parameters>
							<con:parameter>
								<con:name>subscriptionKey</con:name>
								<con:value>subscriptionKey</con:value>
								<con:style>TEMPLATE</con:style>
								<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
								<con:default>subscriptionKey</con:default>
								<con:description xsi:nil="true"/>
							</con:parameter>
						</con:parameters>
						<con:method name="Get Subscription" method="GET">
							<con:settings/>
							<con:parameters/>
							<con:representation type="FAULT">
								<con:mediaType>text/xml</con:mediaType>
								<con:status>405 404</con:status>
								<con:params/>
							</con:representation>
							<con:representation type="RESPONSE">
								<con:mediaType>text/xml</con:mediaType>
								<con:status>200</con:status>
								<con:params/>
								<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:subscription
								</con:element>
							</con:representation>
							<con:request name="Get a Specific Subscription" mediaType="text/xml">
								<con:settings>
									<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
								</con:settings>
								<con:endpoint>http://localhost:8080</con:endpoint>
								<con:request/>
								<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
								<con:jmsPropertyConfig/>
								<con:parameters>
									<con:entry key="subscriptionKey" value="e7107b98-ff32-4a2d-886f-e5f9c4537f1a"/>
									<con:entry key="mailingListKey" value="TEST3ML"/>
								</con:parameters>
							</con:request>
						</con:method>
						<con:method name="Delete Subscription" method="DELETE">
							<con:settings/>
							<con:parameters/>
							<con:representation type="RESPONSE">
								<con:mediaType>text/xml</con:mediaType>
								<con:status>200</con:status>
								<con:params/>
							</con:representation>
							<con:request name="Delete a Subscription" mediaType="text/xml">
								<con:settings>
									<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
								</con:settings>
								<con:endpoint>http://localhost:8080</con:endpoint>
								<con:request/>
								<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
								<con:jmsPropertyConfig/>
								<con:parameters>
									<con:entry key="subscriptionKey" value="9f177ae8-0322-4a07-b595-a894d44f9811"/>
									<con:entry key="mailingListKey" value="TEST3ML"/>
								</con:parameters>
							</con:request>
						</con:method>
					</con:resource>
					<con:method name="Get Subscriptions" method="GET">
						<con:settings/>
						<con:parameters/>
						<con:representation type="RESPONSE">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>200</con:status>
							<con:params/>
							<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:subscriptions
							</con:element>
						</con:representation>
						<con:request name="Get Subscriptions for TEST3ML" mediaType="text/xml">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<entry key="mailingListKey" value="TEST3ML" xmlns="http://eviware.com/soapui/config"/>
							</con:parameters>
						</con:request>
					</con:method>
					<con:method name="Create Subscription" method="POST">
						<con:settings/>
						<con:parameters/>
						<con:representation type="FAULT">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>500 400</con:status>
							<con:params/>
							<con:element>error</con:element>
						</con:representation>
						<con:representation type="REQUEST">
							<con:mediaType>text/xml</con:mediaType>
							<con:params/>
							<con:element>error</con:element>
						</con:representation>
						<con:representation type="RESPONSE">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>201</con:status>
							<con:params/>
						</con:representation>
						<con:request name="Create SSO User Subscription" mediaType="text/xml" postQueryString="false">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
							<con:request><![CDATA[<subscription xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
  <type>ssouser</type>
  <typeArgument>sdtxs01</typeArgument>
</subscription>
]]></con:request>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<entry key="mailingListKey" value="TEST3ML" xmlns="http://eviware.com/soapui/config"/>
							</con:parameters>
						</con:request>
						<con:request name="Create SSO Role Subscription" mediaType="text/xml" postQueryString="false">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://localhost:8080</con:endpoint>
							<con:request><![CDATA[<subscription xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
  <type>ssorole</type>
  <typeArgument>EHMS_APP_USR</typeArgument>
</subscription>
]]></con:request>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<entry key="mailingListKey" value="TEST3ML" xmlns="http://eviware.com/soapui/config"/>
							</con:parameters>
						</con:request>
						<con:request name="Create All SSO Users Subscription" mediaType="text/xml" postQueryString="false">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://localhost:8080</con:endpoint>
							<con:request>&lt;subscription
								xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
								&lt;type>ssousers&lt;/type>
								&lt;/subscription>
</con:request>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<entry key="mailingListKey" value="TEST3ML" xmlns="http://eviware.com/soapui/config"/>
							</con:parameters>
						</con:request>
						<con:request name="Create Basic User Subscription" mediaType="text/xml" postQueryString="false">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://localhost:8080</con:endpoint>
							<con:request>&lt;subscription
								xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
								&lt;type>basicuser&lt;/type>
								&lt;/subscription>
</con:request>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<entry key="mailingListKey" value="TEST3ML" xmlns="http://eviware.com/soapui/config"/>
							</con:parameters>
						</con:request>
					</con:method>
				</con:resource>
				<con:method name="Get a Specific Mailing List" method="GET">
					<con:description>Returns a specific mailing list by key.</con:description><con:settings/>
					<con:parameters/>
					<con:representation type="FAULT">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>500 404</con:status>
						<con:params/>
						<con:element>error</con:element>
					</con:representation>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
						<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:mailingList</con:element>
					</con:representation>
					<con:request name="Get Mailing List TEST3ML" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint xsi:nil="true"/>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="SOAPUI-1" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:request>
				</con:method>
				<con:method name="Delete a Mailing List" method="DELETE">
					<con:description>Deletes the mailing list identified by the URI specified</con:description><con:settings/>
					<con:parameters/>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
					</con:representation>
					<con:representation type="FAULT">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>400</con:status>
						<con:params/>
						<con:element>error</con:element>
					</con:representation>
					<con:request name="Delete Mailing List TEST3ML" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://localhost:8080</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="TEST3ML" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:request>
				</con:method>
			</con:resource>
			<con:resource name="Unsubscribed Mailing Lists for a User" path="/unsubscribed/{realm}/{uid}">
				<con:settings/>
				<con:parameters>
					<con:parameter>
						<con:name>realm</con:name>
						<con:value>realm</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>realm</con:default>
						<con:description xsi:nil="true"/>
					</con:parameter>
					<con:parameter>
						<con:name>uid</con:name>
						<con:value>uid</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>uid</con:default>
						<con:description xsi:nil="true"/>
					</con:parameter>
				</con:parameters>
				<con:method name="Method 1" method="GET">
					<con:settings/>
					<con:parameters/>
					<con:representation type="FAULT">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>404</con:status>
						<con:params/>
					</con:representation>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
						<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:mailingLists</con:element>
					</con:representation>
					<con:request name="Request 1" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="uid" value="sdtxs01"/>
							<con:entry key="realm" value="SSO"/>
						</con:parameters>
					</con:request>
				</con:method>
			</con:resource>
			<con:method name="Get All Mailing Lists" method="GET">
				<con:description>Returns all active mailing lists from the server
				</con:description>
				<con:settings/>
				<con:parameters/>
				<con:representation type="RESPONSE">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>200</con:status>
					<con:params/>
					<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:mailingLists</con:element>
				</con:representation>
				<con:request name="Get All Mailing Lists" mediaType="text/xml">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>http://tcserverprd02:6900</con:endpoint>
					<con:request/>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
			<con:method name="Create a Mailing List" method="POST">
				<con:settings>
					<con:setting id="RecordResponseRepresentations">false</con:setting>
				</con:settings>
				<con:parameters/>
				<con:representation type="FAULT">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>400 500 405</con:status>
					<con:params/>
					<con:element>error</con:element>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>201</con:status>
					<con:params/>
				</con:representation>
				<con:representation type="REQUEST">
					<con:mediaType>text/xml</con:mediaType>
					<con:params/>
				</con:representation>
				<con:request name="Create TEST3ML Mailing List" mediaType="text/xml" postQueryString="false" accept="text/xml">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						<con:setting id="RecordRequestRepresentations">true</con:setting>
					</con:settings>
					<con:endpoint>http://tcserverdev02:6900</con:endpoint>
					<con:request><![CDATA[<mailingList active="true" xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
      <key>SOAPUI-1</key>
      <shortName>Test 3 Mailing List</shortName>
  <fromAddress>trevershick@railinc.com</fromAddress>
</mailingList>
]]></con:request>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
		</con:resource>
		<con:resource name="Subscriptions" path="/subscriptions">
			<con:settings/>
			<con:parameters/>
			<con:resource name="User Subscriptions" path="/users/{realm}/{uid}">
				<con:settings/>
				<con:parameters>
					<con:parameter>
						<con:name>realm</con:name>
						<con:value>realm</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>realm</con:default>
						<con:description xsi:nil="true"/>
					</con:parameter>
					<con:parameter>
						<con:name>uid</con:name>
						<con:value>uid</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>uid</con:default>
						<con:description xsi:nil="true"/>
					</con:parameter>
				</con:parameters>
				<con:method name="Simple Get" method="GET">
					<con:settings/>
					<con:parameters>
						<con:parameter>
							<con:name>realm</con:name>
							<con:value>SSO</con:value>
							<con:style>TEMPLATE</con:style>
							<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
							<con:default/>
							<con:description xsi:nil="true"/>
						</con:parameter>
						<con:parameter>
							<con:name>uid</con:name>
							<con:value/>
							<con:style>TEMPLATE</con:style>
							<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
							<con:default/>
							<con:description xsi:nil="true"/>
						</con:parameter>
					</con:parameters>
					<con:representation type="FAULT">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>404</con:status>
						<con:params/>
					</con:representation>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
						<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:subscriptions</con:element>
					</con:representation>
					<con:representation type="FAULT">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>500</con:status>
						<con:params/>
						<con:element>error</con:element>
					</con:representation>
					<con:request name="Request 1" mediaType="text/xml" timeout="300000">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://localhost:8080</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="uid" value="sdtxs01"/>
							<con:entry key="realm" value="SSO"/>
						</con:parameters>
					</con:request>
				</con:method>
			</con:resource>
		</con:resource>
		<con:resource name="Applications" path="applications">
			<con:settings/>
			<con:parameters/>
			<con:resource name="Individual Application" path="/{applicationId}">
				<con:settings/>
				<con:parameters>
					<con:parameter>
						<con:name>applicationId</con:name>
						<con:value>applicationId</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>applicationId</con:default>
						<con:description xsi:nil="true"/>
					</con:parameter>
				</con:parameters>
				<con:resource name="Events by Correlation" path="/event/{correlationId}">
					<con:settings/>
					<con:parameters>
						<con:parameter>
							<con:name>correlationId</con:name>
							<con:value>correlationId</con:value>
							<con:style>TEMPLATE</con:style>
							<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
							<con:default>correlationId</con:default>
							<con:description xsi:nil="true"/>
						</con:parameter>
					</con:parameters>
					<con:resource name="Status by Correlation Id" path="status">
						<con:settings/>
						<con:parameters/>
						<con:method name="Get Status" method="GET">
							<con:settings/>
							<con:parameters/>
							<con:representation type="FAULT">
								<con:mediaType>text/xml</con:mediaType>
								<con:status>500 404</con:status>
								<con:params/>
								<con:element>error</con:element>
							</con:representation>
							<con:representation type="RESPONSE">
								<con:mediaType>text/xml</con:mediaType>
								<con:status>200</con:status>
								<con:params/>
								<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:event</con:element>
							</con:representation>
							<con:request name="Request 1" mediaType="text/xml" accept="text/xml">
								<con:settings>
									<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
								</con:settings>
								<con:endpoint>http://localhost:8080</con:endpoint>
								<con:request/>
								<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
								<con:jmsPropertyConfig/>
								<con:parameters>
  <con:entry key="correlationId" value="123xxx"/>
  <con:entry key="applicationId" value="TEST"/>
</con:parameters>
							</con:request>
						</con:method>
					</con:resource>
					<con:resource name="Notifications" path="notifications">
						<con:settings/>
						<con:parameters/>
						<con:resource name="Search" path="search">
							<con:settings/>
							<con:parameters/>
							<con:method name="Search Delivery Spec" method="GET">
								<con:settings/>
								<con:parameters>
									<con:parameter>
										<con:name>ds</con:name>
										<con:value/>
										<con:style>QUERY</con:style>
										<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
										<con:default/>
										<con:description xsi:nil="true"/>
									</con:parameter>
									<con:parameter>
										<con:name>token</con:name>
										<con:value/>
										<con:style>QUERY</con:style>
										<con:default/>
									</con:parameter>
								</con:parameters>
								<con:representation type="FAULT">
									<con:mediaType>application/octet-stream</con:mediaType>
									<con:status>500</con:status>
									<con:params/>
									<con:element>error</con:element>
								</con:representation>
								<con:representation type="RESPONSE">
									<con:mediaType>text/xml</con:mediaType>
									<con:status>200</con:status>
									<con:params/>
									<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:searchResults
									</con:element>
								</con:representation>
								<con:request name="Search for Notification with Delivery Spec" mediaType="text/xml" accept="text/xml">
									<con:settings>
										<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
									</con:settings>
									<con:endpoint>http://localhost:8080</con:endpoint>
									<con:request/>
									<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
									<con:jmsPropertyConfig/>
									<con:parameters>
  <con:entry key="correlationId" value="1234"/>
  <con:entry key="token" value="00073fbc-e8d0-11de-8c4a-f10a139d92dd"/>
  <con:entry key="applicationId" value="MAILLIST"/>
  <con:entry key="ds" value="x"/>
</con:parameters>
								</con:request>
							</con:method>
						</con:resource>
						<con:method name="Cancel Notifications" method="DELETE">
							<con:settings/>
							<con:parameters/>
							<con:representation type="RESPONSE">
								<con:mediaType>text/xml</con:mediaType>
								<con:status>200</con:status>
								<con:params/>
							</con:representation>
							<con:representation type="FAULT"><con:mediaType>text/xml</con:mediaType><con:status>404</con:status><con:params/><con:element>error</con:element></con:representation><con:request name="Request 1" mediaType="text/xml">
								<con:settings>
									<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
								</con:settings>
								<con:endpoint>http://localhost:8080</con:endpoint>
								<con:request/>
								<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
								<con:jmsPropertyConfig/>
								<con:parameters>
  <con:entry key="correlationId" value="123"/>
  <con:entry key="applicationId" value="TEST"/>
</con:parameters>
							</con:request>
						</con:method>
					</con:resource>
					<con:method name="Get Events by Correlation Id" method="GET">
						<con:settings/>
						<con:parameters/>
						<con:representation type="RESPONSE">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>200</con:status>
							<con:params/>
							<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:events</con:element>
						</con:representation>
						<con:representation type="FAULT"><con:mediaType>text/xml</con:mediaType><con:status>404</con:status><con:params/><con:element>error</con:element></con:representation><con:request name="Request 1" mediaType="text/xml" accept="text/xml">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://localhost:8080</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<con:entry key="correlationId" value="POISON1"/>
								<con:entry key="applicationId" value="TEST"/>
							</con:parameters>
						</con:request>
					</con:method>
				</con:resource>
				<con:method name="Get Application Details" method="GET">
					<con:settings/>
					<con:parameters/>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
						<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:application</con:element>
					</con:representation>
					<con:representation type="FAULT">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>404</con:status>
						<con:params/>
						<con:element>error</con:element>
					</con:representation>
					<con:request name="Get Application TEST3" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://localhost:8080</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="applicationId" value="TEST7" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:request>
				</con:method>
				<con:method name="Update Application" method="PUT">
					<con:settings/>
					<con:parameters/>
					
					<con:representation type="REQUEST"><con:mediaType>text/xml</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/xml</con:mediaType><con:status>400 404</con:status><con:params/><con:element>error</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:application</con:element></con:representation><con:request name="Request 1" mediaType="text/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://localhost:8080</con:endpoint>
						<con:request><![CDATA[<application xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
      <appId>TEST4</appId>
      <adminEmail>trevershick@yahoo.com</adminEmail>
</application>]]></con:request>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="applicationId" value="TEST3" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:request>
				</con:method>
				<con:method name="Delete Application" method="DELETE">
					<con:settings/>
					<con:parameters/>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
					</con:representation>
					<con:request name="Delete TEST3 Application" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://tcserverdev02:6900</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="applicationId" value="TEST3" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:request>
				</con:method>
			</con:resource>
			<con:method name="Get Applications" method="GET">
				<con:settings/>
				<con:parameters/>
				<con:representation type="FAULT">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>404</con:status>
					<con:params/>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>200</con:status>
					<con:params/>
					<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:applications</con:element>
				</con:representation>
				<con:request name="Request 1" mediaType="text/xml" accept="text/xml">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>http://localhost:8080</con:endpoint>
					<con:request/>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
			<con:method name="Create Application" method="POST">
				<con:settings/>
				<con:parameters/>
				<con:representation type="FAULT">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>400</con:status>
					<con:params/>
					<con:element>error</con:element>
				</con:representation>
				<con:representation type="REQUEST">
					<con:mediaType>text/xml</con:mediaType>
					<con:params/>
					<con:element>error</con:element>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>200 201</con:status>
					<con:params/>
					<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:application</con:element>
				</con:representation>
				<con:request name="Request 1" mediaType="text/xml" postQueryString="false" accept="text/xml">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>http://localhost:8080</con:endpoint>
					<con:request><![CDATA[<application xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
      <appId>TEST3</appId>
      <adminEmail>trever.shick@railinc.com</adminEmail>
</application>
]]></con:request>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
		</con:resource>
		<con:resource name="Events" path="events">
			<con:settings/>
			<con:parameters/>
			<con:resource name="Event By Id" path="/{eventUid}">
				<con:settings/>
				<con:parameters>
					<con:parameter>
						<con:name>eventUid</con:name>
						<con:value>eventUid</con:value>
						<con:style>TEMPLATE</con:style>
						<con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
						<con:default>eventUid</con:default>
						<con:description xsi:nil="true"/>
					</con:parameter>
				</con:parameters>
				<con:resource name="Event Notifications" path="/notifications">
					<con:settings/>
					<con:parameters/>
					<con:method name="Get Notifications for an Event" method="GET">
						<con:settings/>
						<con:parameters/>
						<con:representation type="RESPONSE">
							<con:mediaType>text/xml</con:mediaType>
							<con:status>200</con:status>
							<con:params/>
							<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:notifications
							</con:element>
						</con:representation>
						<con:request name="Request 1" mediaType="text/xml" accept="text/xml">
							<con:settings>
								<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
							</con:settings>
							<con:endpoint>http://localhost:8080</con:endpoint>
							<con:request/>
							<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
							<con:jmsPropertyConfig/>
							<con:parameters>
								<entry key="eventUid" value="88e9a778-9bb6-11dd-9445-b3fd3c7f1571" xmlns="http://eviware.com/soapui/config"/>
							</con:parameters>
						</con:request>
					</con:method>
				</con:resource>
				<con:method name="Get Event By Id" method="GET">
					<con:settings/>
					<con:parameters/>
					<con:representation type="RESPONSE">
						<con:mediaType>text/xml</con:mediaType>
						<con:status>200</con:status>
						<con:params/>
						<con:element xmlns:r20="http://railinc.com/notifserv/restsvcs/r2009v1">r20:event</con:element>
					</con:representation>
					<con:request name="Request 1" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://localhost:8080</con:endpoint>
						<con:request/>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="eventUid" value="88e9a778-9bb6-11dd-9445-b3fd3c7f1571" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:request>
				</con:method>
			</con:resource>
			<con:method name="Events" method="GET">
				<con:settings/>
				<con:parameters/>
				<con:representation type="FAULT">
					<con:mediaType>text/xml</con:mediaType>
					<con:status>404</con:status>
					<con:params/>
				</con:representation>
				<con:request name="Request 1" mediaType="text/xml">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>http://localhost:8080</con:endpoint>
					<con:request/>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
		</con:resource>
	</con:interface>
	<con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="Version Service" type="rest" basePath="/notifserv-restsvcs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:settings/>
		
		<con:definitionCache type="TEXT" rootPart=""/><con:endpoints>
			<con:endpoint>http://localhost:8080</con:endpoint>
			<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
		</con:endpoints>
		<con:resource name="Version NUmber" path="/version">
			<con:settings/>
			<con:parameters/>
			<con:method name="Method 1" method="GET">
				<con:settings/>
				<con:parameters/>
				<con:representation type="RESPONSE">
					<con:mediaType>text/plain</con:mediaType>
					<con:status>200</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:request name="Request 1" mediaType="text/xml">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
					<con:request/>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters/>
				</con:request>
			</con:method>
		</con:resource>
	</con:interface>
	<con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="NS Gateway Service" type="rest" basePath="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<con:settings/>
		
		<con:definitionCache type="TEXT" rootPart=""/><con:endpoints>
			<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
		</con:endpoints>
		<con:resource name="Gateway" path="/notifserv/gateway">
			<con:settings/>
			<con:parameters/>
			<con:method name="Simple Post" method="POST">
				<con:settings/>
				<con:parameters>
					<con:parameter required="true">
						<con:name>message</con:name>
						<con:value/>
						<con:style>QUERY</con:style>
						<con:default/>
					</con:parameter>
				</con:parameters>
				<con:representation type="FAULT">
					<con:mediaType>text/plain</con:mediaType>
					<con:status>400</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:representation type="REQUEST">
					<con:mediaType>application/x-www-form-urlencoded</con:mediaType>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:representation type="RESPONSE">
					<con:mediaType>text/plain</con:mediaType>
					<con:status>200</con:status>
					<con:params/>
					<con:element>data</con:element>
				</con:representation>
				<con:request name="Request 1" mediaType="application/x-www-form-urlencoded" postQueryString="true">
					<con:settings>
						<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
					</con:settings>
					<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
					<con:request/>
					<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
					<con:jmsPropertyConfig/>
					<con:parameters>
						<entry key="message" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?> &lt;ns:event xmlns:ns=&quot;http://events.notifserv.railinc.com&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;>   &lt;ns:header>     &lt;ns:appId>TEST&lt;/ns:appId>     &lt;ns:correlationId>123&lt;/ns:correlationId>  &lt;ns:deliverySpecs>   &lt;ns:deliverySpec xsi:type=&quot;ns:EmailDeliverySpecType&quot;>    &lt;ns:from>trever.shick@railinc.com&lt;/ns:from>    &lt;ns:to>trever.shick@railinc.com&lt;/ns:to>    &lt;ns:subject>My Subject&lt;/ns:subject>    &lt;ns:contentType>text/plain&lt;/ns:contentType>   &lt;/ns:deliverySpec>     &lt;/ns:deliverySpecs>   &lt;/ns:header>   &lt;ns:body xsi:type=&quot;ns:XmlBodyType&quot;>    &lt;app:appMessage xmlns:app=&quot;http://sampleapp.railinc.com&quot;>     &lt;app:subject>My Subject&lt;/app:subject>     &lt;app:body>My Body&lt;/app:body>    &lt;/app:appMessage>   &lt;/ns:body> &lt;/ns:event>" xmlns="http://eviware.com/soapui/config"/>
					</con:parameters>
				</con:request>
			</con:method>
		</con:resource>
	</con:interface>
	<con:testSuite name="Mailing Lists Test Suite">
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get All Mailing Lists Happy Path" searchProperties="true" id="7cd80520-1ce6-4e72-ba95-268b12c55f66">
			<con:settings/>
			<con:testStep type="restrequest" name="Step 1">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists" methodName="Get All Mailing Lists" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Step 1" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="HTTP 200 Assertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("HTTP/1.1 200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace n =
									'http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/n:mailingLists/n:mailingList) gt 0</path>
								<content>true</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get a Single Mailing List" searchProperties="true" id="aedf927c-87df-49f7-a8f4-eec6f2e850f4">
			<con:settings/>
			<con:testStep type="restrequest" name="Step 1">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Get a Specific Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Step 1" mediaType="text/xml">
						<con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="HTTP 200 Response">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("HTTP/1.1 200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Returns a Single Mailing List">
							<con:configuration>
								<path>declare namespace n =
									'http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/n:mailingList)</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
							<entry key="mailingListKey" value="OUTEHMS" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get a Single NonExistent Mailing List" searchProperties="true" id="0a8e3b1e-6fec-4c81-be8d-59dcd68a2a68">
			<con:settings/>
			<con:testStep type="restrequest" name="Step 1">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Get a Specific Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Step 1" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="HTTP 404 Resopnse">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("404");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="XXXXXX" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="All ML and Retrieve First One" searchProperties="true" id="6827200e-7ec7-46cf-b1fc-01a80e085e40">
			<con:settings/>
			<con:testStep type="restrequest" name="All Mailing Lists">
				<con:settings/>
				<con:config service="Notification Service REST API" methodName="Get All Mailing Lists" resourcePath="/notifserv-restsvcs/api/mailinglists" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="All Mailing Lists" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:encoding>UTF-8</con:encoding>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("HTTP/1.1 200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace n =
									'http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/n:mailingLists/n:mailingList) gt 0</path>
								<content>true</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="transfer" name="Property Transfer">
				<con:settings/>
				<con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false">
						<con:name>mailingListKey</con:name>
						<con:sourceType>Response</con:sourceType>
						<con:sourceStep>All Mailing Lists</con:sourceStep>
						<con:sourcePath>declare namespace n =
							'http://railinc.com/notifserv/restsvcs/r2009v1';
							//n:mailingList/n:key</con:sourcePath>
						<con:targetType>mailingListKey</con:targetType>
						<con:targetStep>Get Mailing List</con:targetStep>
					</con:transfers>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" methodName="Get a Specific Mailing List" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Mailing List" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:encoding>UTF-8</con:encoding>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request>EHMS Outage List</con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("HTTP/1.1 200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace n =
									'http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/n:mailingList)</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials>
							<con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/>
						</con:credentials>
						<con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters><entry key="mailingListKey" value="SPISPTRAINII" xmlns="http://eviware.com/soapui/config"/></con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create a Mailing List" searchProperties="true" id="234c7c92-066c-4f31-aab4-282ce8a955fc">
			<con:settings/>
			<con:testStep type="groovy" name="Init">
				<con:settings/>
				<con:config>
					<script>int i=0;
						for (i = 0 ;i &lt; 10;i++) {
							String mailingListKey = "SOAPUI-" + i;
							context.mailingListKey = mailingListKey;
							testRunner.runTestStepByName("Cleanup - Delete Mailing List");
						}



						String mailingListKey = "SOAPUI-" + Math.abs((new
						Random(System.currentTimeMillis()).nextInt() % 10));
						log.info mailingListKey

						context.mailingListKey = mailingListKey;

						testRunner.gotoStepByName("Ensure no SOAPUI Mailing Lists");
</script>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Cleanup - Delete Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Delete a Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Cleanup - Delete Mailing List" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Ensure no SOAPUI Mailing Lists">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists" methodName="Get All Mailing Lists" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Ensure no SOAPUI Mailing Lists" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace tns =
									'http://railinc.com/notifserv/restsvcs/r2009v1';
									count(//tns:mailingList[starts-with(tns:key, 'SOAP')])</path>
								<content>0</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create a Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists" methodName="Create a Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create a Mailing List" mediaType="text/xml" postQueryString="false" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request><![CDATA[   <mailingList active="true" xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
      <key>${mailingListKey}</key>
      <shortName>${mailingListKey}</shortName>
  <fromAddress>trevershick@railinc.com</fromAddress>
   </mailingList>
]]></con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 201</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Get a Specific Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Mailing List" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode==200;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Delete Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Delete a Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete Mailing List" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 200;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Mailing List Again">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Get a Specific Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Mailing List Again" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="Should Return HTTP 404">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode==404;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Test Subscribe to ML" searchProperties="true" id="440abcdd-9d23-41e2-b367-5adc2f323189">
			<con:settings>
				<con:setting id="com.eviware.soapui.impl.wsdl.panels.testcase.JTestRunLog$OptionsForm@max_rows">1000</con:setting>
				<con:setting id="com.eviware.soapui.impl.wsdl.panels.testcase.JTestRunLog$OptionsForm@errors_only">false</con:setting>
			</con:settings>
			<con:testStep type="groovy" name="Init">
				<con:settings/>
				<con:config>
					<script>int i=0;
						for (i = 0 ;i &lt; 10;i++) {
						String mailingListKey = "SOAPUI-" + i;
						context.mailingListKey = mailingListKey;
						testRunner.runTestStepByName("Cleanup - Delete Mailing List");
						}



						String mailingListKey = "SOAPUI-" + Math.abs((new
						Random(System.currentTimeMillis()).nextInt() % 10));
						log.info mailingListKey

						context.mailingListKey = mailingListKey;

						testRunner.gotoStepByName("Ensure no SOAPUI Mailing Lists");
</script>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Cleanup - Delete Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Delete a Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Cleanup - Delete Mailing List" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert true;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Ensure no SOAPUI Mailing Lists">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists" methodName="Get All Mailing Lists" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Ensure no SOAPUI Mailing Lists" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace tns =
									'http://railinc.com/notifserv/restsvcs/r2009v1';
									count(//tns:mailingList[starts-with(tns:key, 'SOAP')])</path>
								<content>0</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists" methodName="Create a Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create Mailing List" mediaType="text/xml" postQueryString="false" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request><![CDATA[   <mailingList active="true" xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
      <key>${mailingListKey}</key>
      <shortName>${mailingListKey}</shortName>
  <fromAddress>trevershick@railinc.com</fromAddress>
 <!--     <type>Outage</type>
      <application>ISST</application>
      <shortName>ISSVision Outages</shortName>
      <title>ISSVision Outages</title>
-->
   </mailingList>
]]></con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 201;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Get a Specific Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Mailing List" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="Should return HTTP 200 because it's found">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode==200;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Negative - Create Subscription (Bad)">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscriptions" methodName="Create Subscription" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Negative - Create Subscription (Bad)" mediaType="text/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request>&lt;subscription
							xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">

							&lt;/subscription>
</con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 400;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Negative - Create Subscription (Bad Basic)">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscriptions" methodName="Create Subscription" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Negative - Create Subscription (Bad Basic)" mediaType="text/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request>&lt;subscription
							xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
							&lt;type>basicuser2&lt;/type>
							&lt;/subscription>
</con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 400;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Negative - Create Subscription (Bad SSO User)">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscriptions" methodName="Create Subscription" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Negative - Create Subscription (Bad SSO User)" mediaType="text/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request><![CDATA[<subscription xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
  <type>ssouser</type>
  <typeArgument></typeArgument>
</subscription>
]]></con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 400;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Subscribers - Should be Empty">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscribers" methodName="Get Subscribers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Subscribers - Should be Empty" mediaType="text/xml" timeout="3000000" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/tns:subscribers/*)</path>
								<content>0</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create Subscription - Create Basic User Subscription">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscriptions" methodName="Create Subscription" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create Subscription - Create Basic User Subscription" mediaType="text/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request><![CDATA[<subscription xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
  <type>basicuser</type>
  <delivery>
	<param>trevershick@yahoo.com</param>
  </delivery>
</subscription>
]]></con:request>
						<con:assertion type="GroovyScriptAssertion" name="Should return HTTP 201">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 201;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Default Mode shoudl be INCLUSION">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:subscription/tns:mode</path>
								<content>INCLUSION</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Default Delivery should be EMAIL">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:subscription/tns:delivery/tns:media</path>
								<content>EMAIL</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Type should be basicuser">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:subscription/tns:type</path>
								<content>basicuser</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Explicit shoudl be true">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:subscription/tns:explicit</path>
								<content>true</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Subscribers - Should be One">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscribers" methodName="Get Subscribers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Subscribers - Should be One" mediaType="text/xml" timeout="3000000" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/tns:subscribers/*)</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create Subscription - SSO User">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscriptions" methodName="Create Subscription" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create Subscription - SSO User" mediaType="text/xml" postQueryString="false">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request><![CDATA[<subscription xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
  <type>ssouser</type>
  <typeArgument>sdtxs01</typeArgument>
</subscription>
]]></con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 201;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Subscribers - Should be Two">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}/subscribers" methodName="Get Subscribers" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Subscribers - Should be Two" mediaType="text/xml" timeout="3000000" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match" name="There should be 2 subscribers now">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/tns:subscribers/*)</path>
								<content>2</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Delete Mailing List">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/mailinglists/{mailingListKey}" methodName="Delete a Mailing List" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete Mailing List" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration>
								<scriptText>assert messageExchange.response.statusCode == 200;</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="mailingListKey" value="${mailingListKey}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:properties/>
	</con:testSuite>
	<con:testSuite name="Notification Mgmt Test Suite">
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Test Cancel Notification" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" id="09e761a1-2dc3-41dc-b7f0-8ad2e2152f44">
			<con:settings/>
			<con:testStep type="groovy" name="Setup Application Event">
				<con:settings/>
				<con:config>
					<script><![CDATA[String uuid = java.util.UUID.randomUUID().toString();

String tmp = '<?xml version="1.0" encoding="UTF-8"?>';
tmp += '<ns:event xmlns:ns="http://events.notifserv.railinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">';
tmp += '<ns:header>     <ns:appId>TEST</ns:appId>     <ns:correlationId>' + uuid + '</ns:correlationId>';
tmp += '<ns:deliverySpecs>   <ns:deliverySpec xsi:type="ns:EmailDeliverySpecType">    <ns:from>trever.shick@railinc.com</ns:from>';
tmp += '<ns:to>trever.shick@railinc.com</ns:to>    <ns:subject>My Subject</ns:subject>    <ns:contentType>text/plain</ns:contentType>';
tmp += '</ns:deliverySpec>     </ns:deliverySpecs>   </ns:header>   <ns:body xsi:type="ns:XmlBodyType">';
tmp += '<app:appMessage xmlns:app="http://sampleapp.railinc.com">     <app:subject>My Subject</app:subject>';
tmp += '<app:body>My Body</app:body>    </app:appMessage>   </ns:body> </ns:event>';

context.gatewayMessage = tmp;
context.correlationId = uuid;
log.info("Application evnet : " + context.gatewayMessage);
log.info("Correlation Id : " + context.correlationId);

stepStatus = testRunner.runTestStepByName("Send Message to NS");

if (stepStatus.responseContent.indexOf("<totalNotificationCount>1</totalNotificationCount>") > -1) {
//	testRunner.fail("Didn't get a 200 from sending a mesasge, let's stop");
	testRunner.cancel("Didn't get a 200 from sending a mesasge, let's stop");
} else {
	log.info("OK, got 200 from 'Send Message to NS");
}

int index = 0;
while (true) {
	stepStatus = testRunner.runTestStepByName("Event Accepted");
	if (stepStatus.response.statusCode == 200) {
		log.info("Got 200 from Event Accepted, apparently it's in the db");
		break;
	} else {
		index++;
		log.info("Didn't get 200 from Event Accepted, let's wait a little bit " + index);
		if (index >= 30) {
			testRunner.cancel("Waited for 30 seconds but received no 200 code from Event Accepted");
		}
	}
}

log.info("Yay, continuing test");
// skip the 'event accepted and go to the true start
testRunner.gotoStepByName("Get Status of Notification");
]]></script>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Send Message to NS">
				<con:settings/>
				<con:config service="NS Gateway Service" resourcePath="/notifserv/gateway" methodName="Simple Post" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send Message to NS" mediaType="application/x-www-form-urlencoded" postQueryString="true">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="Simple Contains" name="Response is OK">
							<con:configuration>
								<token>OK</token>
								<ignoreCase>false</ignoreCase>
								<useRegEx>false</useRegEx>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="message" value="${gatewayMessage}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Event Accepted">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/status" methodName="Get Status" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Event Accepted" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Status of Notification">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/status" methodName="Get Status" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Status of Notification" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match" name="Total Notification Created Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationCount</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Total Remaining (not sent) is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationsRemaining</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Open Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:notificationCountByStatus[tns:state =
									'OPEN']/tns:count</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Cancel the Notification">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/notifications" methodName="Cancel Notifications" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Cancel the Notification" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="Ensure HTTP 200 Response Code">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Status of Notification After Cancellation">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/status" methodName="Get Status" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Status of Notification After Cancellation" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match" name="Total Notification Created Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationCount</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Total Remaining (not sent) is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationsRemaining</path>
								<content>0</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Cancelled Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:notificationCountByStatus[tns:state =
									'CANCELLED']/tns:count</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Can't Cancel Notification" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" id="10739a82-84d3-4dae-956e-0d34a5167854">
			<con:settings/>
			<con:testStep type="groovy" name="Setup Application Event">
				<con:settings/>
				<con:config>
					<script><![CDATA[String uuid = java.util.UUID.randomUUID().toString();

String tmp = '<?xml version="1.0" encoding="UTF-8"?>';
tmp += '<ns:event xmlns:ns="http://events.notifserv.railinc.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">';
tmp += '<ns:header>     <ns:appId>TEST</ns:appId>     <ns:correlationId>' + uuid + '</ns:correlationId>';
tmp += '<ns:deliverySpecs>   <ns:deliverySpec xsi:type="ns:EmailDeliverySpecType">    <ns:from>trever.shick@railinc.com</ns:from>';
tmp += '<ns:to>trever.shick@railinc.com</ns:to>    <ns:subject>My Subject</ns:subject>    <ns:contentType>text/plain</ns:contentType>';
tmp += '</ns:deliverySpec>     </ns:deliverySpecs>   </ns:header>   <ns:body xsi:type="ns:XmlBodyType">';
tmp += '<app:appMessage xmlns:app="http://sampleapp.railinc.com">     <app:subject>My Subject</app:subject>';
tmp += '<app:body>My Body</app:body>    </app:appMessage>   </ns:body> </ns:event>';

context.gatewayMessage = tmp;
context.correlationId = uuid;
log.info("Application evnet : " + context.gatewayMessage);
log.info("Correlation Id : " + context.correlationId);

stepStatus = testRunner.runTestStepByName("Send Message to NS");

if (stepStatus.response.statusCode != 200) {
//	testRunner.fail("Didn't get a 200 from sending a mesasge, let's stop");
	testRunner.cancel("Didn't get a 200 from sending a mesasge, let's stop");
} else {
	log.info("OK, got 200 from 'Send Message to NS");
}

int index = 0;
while (true) {
	stepStatus = testRunner.runTestStepByName("Event Accepted");
	if (stepStatus.responseContent.indexOf("<totalNotificationCount>1</totalNotificationCount>") > -1) {
		log.info("Got 200 from Event Accepted, apparently it's in the db");
		break;
	} else {
		index++;
		log.info("Didn't get 200 from Event Accepted, let's wait a little bit " + index);
		if (index >= 30) {
			testRunner.cancel("Waited for 30 seconds but received no 200 code from Event Accepted");
		}
	}
}

log.info("Yay, continuing test");
// skip the 'event accepted and go to the true start
testRunner.gotoStepByName("Get Status of Notification");
]]></script>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Send Message to NS">
				<con:settings/>
				<con:config service="NS Gateway Service" resourcePath="/notifserv/gateway" methodName="Simple Post" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Send Message to NS" mediaType="application/x-www-form-urlencoded" postQueryString="true">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="Simple Contains" name="Response is OK">
							<con:configuration>
								<token>OK</token>
								<ignoreCase>false</ignoreCase>
								<useRegEx>false</useRegEx>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="message" value="${gatewayMessage}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Event Accepted">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/status" methodName="Get Status" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Event Accepted" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Status of Notification">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/status" methodName="Get Status" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Status of Notification" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match" name="Total Notification Created Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationCount</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Total Remaining (not sent) is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationsRemaining</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Open Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:notificationCountByStatus[tns:state =
									'OPEN']/tns:count</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Cancel the Notification">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/notifications" methodName="Cancel Notifications" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Cancel the Notification" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="Ensure HTTP 200 Response Code">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Status of Notification After Cancellation">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/status" methodName="Get Status" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Status of Notification After Cancellation" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match" name="Total Notification Created Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationCount</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Total Remaining (not sent) is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:totalNotificationsRemaining</path>
								<content>0</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Cancelled Count is 1">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:eventStatus/tns:notificationCountByStatus[tns:state =
									'CANCELLED']/tns:count</path>
								<content>1</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>true</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Attempt to Cancel the Notification Again">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}/event/{correlationId}/notifications" methodName="Cancel Notifications" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Attempt to Cancel the Notification Again" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="Ensure HTTP 409 Response Code">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("409");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<con:entry key="correlationId" value="${correlationId}"/>
							<con:entry key="applicationId" value="TEST"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:properties/>
	</con:testSuite>
	<con:testSuite name="Version Tests">
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Version Test" searchProperties="true" id="8dc0e044-8050-40e3-a2b1-69665c92d252">
			<con:settings/>
			<con:testStep type="restrequest" name="Test Version Service">
				<con:settings/>
				<con:config service="Version Service" resourcePath="/notifserv-restsvcs/version" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Test Version Service" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="HTTP 200 Response Code">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:assertion type="GroovyScriptAssertion" name="Assert Response is a Version Number from Maven">
							<con:configuration>
								<scriptText>assert(messageExchange.responseContent.matches('\\d+\\.\\d+\\.\\d+(-SNAPSHOT)?-\\d+'));</scriptText>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:properties/>
	</con:testSuite>
	<con:testSuite name="Application Resource Test Suite">
		<con:settings/>
		<con:runType>SEQUENTIAL</con:runType>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get All Applications" searchProperties="true" id="0f85281b-4266-4cf1-9905-869317690c5c">
			<con:settings/>
			<con:testStep type="restrequest" name="Get Applications - Request 1">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications" methodName="Get Applications" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Applications - Request 1" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/tns:applications/tns:application) gt 1</path>
								<content>true</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Assert appId Exists">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/tns:applications/tns:application[1]/tns:appId) eq 1</path>
								<content>true</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="XPath Match" name="Assert adminEmail exists">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									count(/tns:applications/tns:application[1]/tns:adminEmail) eq 1</path>
								<content>true</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Create Application Test Suite" searchProperties="true" id="3e34c989-093d-462c-87cc-0b0aa628a9f7">
			<con:settings/>
			<con:testStep type="groovy" name="Cleanup Init">
				<con:settings/>
				<con:config>
					<script>int i=0;
						for (i = 0 ;i &lt; 10;i++) {
						String appId = "SOAPUI-" + i;
						context.appId = appId;
						testRunner.runTestStepByName("Cleanup - Delete Application");
						}
						testRunner.gotoStepByName("Setup Vars");
</script>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Cleanup - Delete Application">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}" methodName="Delete Application" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Cleanup - Delete Application" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="applicationId" value="${appId}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="groovy" name="Setup Vars">
				<con:settings/>
				<con:config>
					<script>context.appId = "SOAPUI-" + Math.abs(new
						java.util.Random(System.currentTimeMillis()).nextInt() % 10);
						log.info("App Id : " + context.appId);


</script>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Create Application">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications" methodName="Create Application" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Create Application" mediaType="text/xml" postQueryString="false" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request><![CDATA[<application xmlns="http://railinc.com/notifserv/restsvcs/r2009v1">
      <appId>${appId}</appId>
      <adminEmail>trever.shick@railinc.com</adminEmail>
</application>
]]></con:request>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("201");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters/>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Application Details - Get Application TEST3">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}" methodName="Get Application Details" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Application Details - Get Application TEST3" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="XPath Match" name="Verify Admin Email">
							<con:configuration>
								<path>declare namespace
									tns='http://railinc.com/notifserv/restsvcs/r2009v1';
									/tns:application/tns:adminEmail</path>
								<content>trever.shick@railinc.com</content>
								<allowWildcards>false</allowWildcards>
								<ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
							</con:configuration>
						</con:assertion>
						<con:assertion type="GroovyScriptAssertion" name="HTTP 200">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="applicationId" value="${appId}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Delete Application">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}" methodName="Delete Application" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Delete Application" mediaType="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("200");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="applicationId" value="${appId}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:testStep type="restrequest" name="Get Application Details - After Deletion">
				<con:settings/>
				<con:config service="Notification Service REST API" resourcePath="/notifserv-restsvcs/api/applications/{applicationId}" methodName="Get Application Details" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
					<con:restRequest name="Get Application Details - After Deletion" mediaType="text/xml" accept="text/xml">
						<con:settings>
							<con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
						</con:settings>
						<con:endpoint>http://datasvcs.dev.railinc.com</con:endpoint>
						<con:request/>
						<con:assertion type="GroovyScriptAssertion" name="HTTP 200">
							<con:configuration><scriptText>assert messageExchange.responseHeaders["#status#"].get(0).contains("404");</scriptText></con:configuration>
						</con:assertion>
						<con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
						<con:jmsPropertyConfig/>
						<con:parameters>
							<entry key="applicationId" value="${appId}" xmlns="http://eviware.com/soapui/config"/>
						</con:parameters>
					</con:restRequest>
				</con:config>
			</con:testStep>
			<con:properties/>
		</con:testCase>
		<con:properties/>
	</con:testSuite>
	<con:properties/>
	<con:wssContainer/>
</con:soapui-project>